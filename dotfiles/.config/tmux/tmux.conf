set -g default-terminal "tmux-256color"
set -s escape-time 0
set -g base-index 1
set -g mouse on

# optional -- i like C-a not C-b (pure preference)
unbind C-b
set-option -g prefix C-a
bind C-a send-prefix

# vi key movement for copy/pasta mode
set-window-option -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# vi key movement for navigation
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

bind -r f new-window "bash -i -c $HOME/.local/scripts/tmux-sessionizer" \; display-message "tmux sessionizer"

# <WHERE YOUR TMUX CONF GOES> = XDG_CONFIG_HOME/tmux/tmux.conf
# <WHERE YOUR TMUX CONF GOES> = ~/.tmux.conf
bind r source-file "$HOME/.config/tmux/tmux.conf" \; display-message "tmux.conf reloaded"

set-environment -g TMUX_PLUGIN_MANAGER_PATH "$HOME/.tmux/plugins"

# Tmux Plugin Manager https://github.com/tmux-plugins/tpm
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Pomodoro Plugin  https://github.com/olimorris/tmux-pomodoro-plus
set -g @plugin 'olimorris/tmux-pomodoro-plus'

# Pomodoro configuration
set -g @pomodoro_toggle 'b'                    # Start/pause a Pomodoro/break
set -g @pomodoro_cancel 'B'                    # Cancel the current session
set -g @pomodoro_skip '_'                      # Skip the current session
set -g @pomodoro_mins 25                       # The duration of the Pomodoro
set -g @pomodoro_break_mins 5                  # The duration of the break after the Pomodoro completes
set -g @pomodoro_intervals 4                   # The number of intervals before a long break
set -g @pomodoro_long_break_mins 25            # The duration of the long break
set -g @pomodoro_repeat 'off'                  # Automatically repeat the Pomodoros?
set -g @pomodoro_disable_breaks 'off'          # Turn off breaks

set -g @pomodoro_on "#[fg=#d08770] "                      # The formatted output when the Pomodoro is running
set -g @pomodoro_complete "#[fg=#a3be8c] "                # The formatted output when the break is running
set -g @pomodoro_pause "⏸\  "                    # The formatted output when the Pomodoro/break is paused
set -g @pomodoro_prompt_break "#[fg=#a3be8c] break?"      # The formatted output when waiting to start a break
set -g @pomodoro_prompt_pomodoro "#[fg=#d08770] start?"   # The formatted output when waiting to start a Pomodoro

# set -g @pomodoro_menu_position "R"             # The location of the menu relative to the screen
set -g @pomodoro_sound 'off'                   # Sound for desktop notifications (Run `ls /System/Library/Sounds` for a list of sounds to use on Mac)
                                               # (On Linux add `on` to use the `beep` program or add your custom beeping command)

set -g @pomodoro_notifications 'off'           # Enable desktop notifications from your terminal
set -g @pomodoro_granularity 'off'             # Enables MM:SS (ex: 00:10) format instead of the default (ex: 1m)


# Theme https://github.com/o0th/tmux-nova?tab=readme-ov-file
set -g @plugin 'o0th/tmux-nova'

set -g @nova-nerdfonts true
set -g @nova-nerdfonts-left 
set -g @nova-nerdfonts-right 

# Theme colors
set -g @nova-pane-active-border-style "#44475a"
set -g @nova-pane-border-style "#282a36"
set -g @nova-status-style-bg "#4c566a"
set -g @nova-status-style-fg "#d8dee9"
set -g @nova-status-style-active-bg "#89c0d0"
set -g @nova-status-style-active-fg "#2e3540"
set -g @nova-status-style-double-bg "#2d3540"

# Custom segments (keeping original pane and mode)
set -g @nova-pane "#I#{?pane_in_mode, #{pane_mode},} #W"

set -g @nova-segment-mode "#{?client_prefix,Ω,ω}"
set -g @nova-segment-mode-colors "#78a2c1 #2e3440"

set -g @nova-segment-whoami "#(whoami)@#h"
set -g @nova-segment-whoami-colors "#78a2c1 #2e3440"

set -g @nova-segment-session "#S"
set -g @nova-segment-session-colors "#88c0d0 #2e3440"

set -g @nova-segment-window "#I"
set -g @nova-segment-window-colors "#81a1c1 #2e3440"

set -g @nova-segment-window-name "#W"
set -g @nova-segment-window-name-colors "#5e81ac #2e3440"

set -g @nova-segment-datetime "%Y-%m-%d %H:%M"
set -g @nova-segment-datetime-colors "#ebcb8b #2e3440"

set -g @nova-segment-pomodoro "#($HOME/.tmux/plugins/tmux-pomodoro-plus/scripts/pomodoro.sh status)"
set -g @nova-segment-pomodoro-colors "#4c566a #d8dee9"

# Layout configuration
set -g status-left-length 30
set -g status-right-length 60
set -g @nova-rows 0
set -g @nova-segments-0-left "mode session window window-name"
set -g @nova-segments-0-right "pomodoro datetime whoami"

run '$HOME/.tmux/plugins/tpm/tpm'
